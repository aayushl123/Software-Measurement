<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TestDataConfiguration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">commons_configuration2$Unnamed.exec</a> &gt; <a href="index.source.html" class="el_package">org.apache.commons.configuration2</a> &gt; <span class="el_source">TestDataConfiguration.java</span></div><h1>TestDataConfiguration.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.apache.commons.configuration2;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

import java.awt.Color;
import java.math.BigDecimal;
import java.math.BigInteger;
import java.net.InetAddress;
import java.net.URL;
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.NoSuchElementException;

import junitx.framework.ArrayAssert;
import junitx.framework.ListAssert;

import org.apache.commons.configuration2.convert.DefaultConversionHandler;
import org.apache.commons.configuration2.convert.DefaultListDelimiterHandler;
import org.apache.commons.configuration2.ex.ConversionException;
import org.easymock.EasyMock;
import org.junit.Before;
import org.junit.Test;

/**
 * @author Emmanuel Bourg
 * @version $Id$
 */
<span class="fc" id="L57">public class TestDataConfiguration</span>
{
    /** Constant for the date pattern used by tests. */
    private static final String DATE_PATTERN = &quot;yyyy-MM-dd&quot;;

    /** The test instance. */
    private DataConfiguration conf;

    @Before
    public void setUp() throws Exception
    {
<span class="fc" id="L68">        BaseConfiguration baseConfig = new BaseConfiguration();</span>
<span class="fc" id="L69">        baseConfig.setListDelimiterHandler(new DefaultListDelimiterHandler(','));</span>
<span class="fc" id="L70">        conf = new DataConfiguration(baseConfig);</span>

        // empty value
<span class="fc" id="L73">        conf.addProperty(&quot;empty&quot;, &quot;&quot;);</span>

        // lists of boolean
<span class="fc" id="L76">        conf.addProperty(&quot;boolean.list1&quot;, &quot;true&quot;);</span>
<span class="fc" id="L77">        conf.addProperty(&quot;boolean.list1&quot;, &quot;false&quot;);</span>
<span class="fc" id="L78">        conf.addProperty(&quot;boolean.list2&quot;, &quot;true, false&quot;);</span>
<span class="fc" id="L79">        conf.addProperty(&quot;boolean.list3&quot;, Boolean.TRUE);</span>
<span class="fc" id="L80">        conf.addProperty(&quot;boolean.list3&quot;, Boolean.FALSE);</span>
<span class="fc" id="L81">        conf.addPropertyDirect(&quot;boolean.list4&quot;, new Boolean[] { Boolean.TRUE, Boolean.FALSE });</span>
<span class="fc" id="L82">        conf.addPropertyDirect(&quot;boolean.list5&quot;, new boolean[] { true, false });</span>
<span class="fc" id="L83">        List&lt;Object&gt; booleans = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L84">        booleans.add(Boolean.TRUE);</span>
<span class="fc" id="L85">        booleans.add(Boolean.FALSE);</span>
<span class="fc" id="L86">        conf.addProperty(&quot;boolean.list6&quot;, booleans);</span>
<span class="fc" id="L87">        conf.addProperty(&quot;boolean.string&quot;, &quot;true&quot;);</span>
<span class="fc" id="L88">        conf.addProperty(&quot;boolean.object&quot;, Boolean.TRUE);</span>
<span class="fc" id="L89">        conf.addProperty(&quot;boolean.list.interpolated&quot;, &quot;${boolean.string},false&quot;);</span>

        // lists of bytes
<span class="fc" id="L92">        conf.addProperty(&quot;byte.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L93">        conf.addProperty(&quot;byte.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L94">        conf.addProperty(&quot;byte.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L95">        conf.addProperty(&quot;byte.list3&quot;, new Byte(&quot;1&quot;));</span>
<span class="fc" id="L96">        conf.addProperty(&quot;byte.list3&quot;, new Byte(&quot;2&quot;));</span>
<span class="fc" id="L97">        conf.addPropertyDirect(&quot;byte.list4&quot;, new Byte[] { new Byte(&quot;1&quot;), new Byte(&quot;2&quot;) });</span>
<span class="fc" id="L98">        conf.addPropertyDirect(&quot;byte.list5&quot;, new byte[] { 1, 2 });</span>
<span class="fc" id="L99">        List&lt;Object&gt; bytes = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L100">        bytes.add(new Byte(&quot;1&quot;));</span>
<span class="fc" id="L101">        bytes.add(new Byte(&quot;2&quot;));</span>
<span class="fc" id="L102">        conf.addProperty(&quot;byte.list6&quot;, bytes);</span>
<span class="fc" id="L103">        conf.addProperty(&quot;byte.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L104">        conf.addProperty(&quot;byte.object&quot;, new Byte(&quot;1&quot;));</span>
<span class="fc" id="L105">        conf.addProperty(&quot;byte.list.interpolated&quot;, &quot;${byte.string},2&quot;);</span>

        // lists of shorts
<span class="fc" id="L108">        conf.addProperty(&quot;short.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L109">        conf.addProperty(&quot;short.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L110">        conf.addProperty(&quot;short.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L111">        conf.addProperty(&quot;short.list3&quot;, new Short(&quot;1&quot;));</span>
<span class="fc" id="L112">        conf.addProperty(&quot;short.list3&quot;, new Short(&quot;2&quot;));</span>
<span class="fc" id="L113">        conf.addPropertyDirect(&quot;short.list4&quot;, new Short[] { new Short(&quot;1&quot;), new Short(&quot;2&quot;) });</span>
<span class="fc" id="L114">        conf.addPropertyDirect(&quot;short.list5&quot;, new short[] { 1, 2 });</span>
<span class="fc" id="L115">        List&lt;Object&gt; shorts = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L116">        shorts.add(new Short(&quot;1&quot;));</span>
<span class="fc" id="L117">        shorts.add(new Short(&quot;2&quot;));</span>
<span class="fc" id="L118">        conf.addProperty(&quot;short.list6&quot;, shorts);</span>
<span class="fc" id="L119">        conf.addProperty(&quot;short.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L120">        conf.addProperty(&quot;short.object&quot;, new Short(&quot;1&quot;));</span>
<span class="fc" id="L121">        conf.addProperty(&quot;short.list.interpolated&quot;, &quot;${short.string},2&quot;);</span>

        // lists of integers
<span class="fc" id="L124">        conf.addProperty(&quot;integer.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L125">        conf.addProperty(&quot;integer.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L126">        conf.addProperty(&quot;integer.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L127">        conf.addProperty(&quot;integer.list3&quot;, new Integer(&quot;1&quot;));</span>
<span class="fc" id="L128">        conf.addProperty(&quot;integer.list3&quot;, new Integer(&quot;2&quot;));</span>
<span class="fc" id="L129">        conf.addPropertyDirect(&quot;integer.list4&quot;, new Integer[] { new Integer(&quot;1&quot;), new Integer(&quot;2&quot;) });</span>
<span class="fc" id="L130">        conf.addPropertyDirect(&quot;integer.list5&quot;, new int[] { 1, 2 });</span>
<span class="fc" id="L131">        List&lt;Object&gt; integers = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L132">        integers.add(new Integer(&quot;1&quot;));</span>
<span class="fc" id="L133">        integers.add(new Integer(&quot;2&quot;));</span>
<span class="fc" id="L134">        conf.addProperty(&quot;integer.list6&quot;, integers);</span>
<span class="fc" id="L135">        conf.addProperty(&quot;integer.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L136">        conf.addProperty(&quot;integer.object&quot;, new Integer(&quot;1&quot;));</span>
<span class="fc" id="L137">        conf.addProperty(&quot;integer.list.interpolated&quot;, &quot;${integer.string},2&quot;);</span>

        // lists of longs
<span class="fc" id="L140">        conf.addProperty(&quot;long.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L141">        conf.addProperty(&quot;long.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L142">        conf.addProperty(&quot;long.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L143">        conf.addProperty(&quot;long.list3&quot;, new Long(&quot;1&quot;));</span>
<span class="fc" id="L144">        conf.addProperty(&quot;long.list3&quot;, new Long(&quot;2&quot;));</span>
<span class="fc" id="L145">        conf.addPropertyDirect(&quot;long.list4&quot;, new Long[] { new Long(&quot;1&quot;), new Long(&quot;2&quot;) });</span>
<span class="fc" id="L146">        conf.addPropertyDirect(&quot;long.list5&quot;, new long[] { 1, 2 });</span>
<span class="fc" id="L147">        List&lt;Object&gt; longs = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L148">        longs.add(new Long(&quot;1&quot;));</span>
<span class="fc" id="L149">        longs.add(new Long(&quot;2&quot;));</span>
<span class="fc" id="L150">        conf.addProperty(&quot;long.list6&quot;, longs);</span>
<span class="fc" id="L151">        conf.addProperty(&quot;long.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L152">        conf.addProperty(&quot;long.object&quot;, new Long(&quot;1&quot;));</span>
<span class="fc" id="L153">        conf.addProperty(&quot;long.list.interpolated&quot;, &quot;${long.string},2&quot;);</span>

        // lists of floats
<span class="fc" id="L156">        conf.addProperty(&quot;float.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L157">        conf.addProperty(&quot;float.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L158">        conf.addProperty(&quot;float.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L159">        conf.addProperty(&quot;float.list3&quot;, new Float(&quot;1&quot;));</span>
<span class="fc" id="L160">        conf.addProperty(&quot;float.list3&quot;, new Float(&quot;2&quot;));</span>
<span class="fc" id="L161">        conf.addPropertyDirect(&quot;float.list4&quot;, new Float[] { new Float(&quot;1&quot;), new Float(&quot;2&quot;) });</span>
<span class="fc" id="L162">        conf.addPropertyDirect(&quot;float.list5&quot;, new float[] { 1, 2 });</span>
<span class="fc" id="L163">        List&lt;Object&gt; floats = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L164">        floats.add(new Float(&quot;1&quot;));</span>
<span class="fc" id="L165">        floats.add(new Float(&quot;2&quot;));</span>
<span class="fc" id="L166">        conf.addProperty(&quot;float.list6&quot;, floats);</span>
<span class="fc" id="L167">        conf.addProperty(&quot;float.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L168">        conf.addProperty(&quot;float.object&quot;, new Float(&quot;1&quot;));</span>
<span class="fc" id="L169">        conf.addProperty(&quot;float.list.interpolated&quot;, &quot;${float.string},2&quot;);</span>

        // lists of doubles
<span class="fc" id="L172">        conf.addProperty(&quot;double.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L173">        conf.addProperty(&quot;double.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L174">        conf.addProperty(&quot;double.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L175">        conf.addProperty(&quot;double.list3&quot;, new Double(&quot;1&quot;));</span>
<span class="fc" id="L176">        conf.addProperty(&quot;double.list3&quot;, new Double(&quot;2&quot;));</span>
<span class="fc" id="L177">        conf.addPropertyDirect(&quot;double.list4&quot;, new Double[] { new Double(&quot;1&quot;), new Double(&quot;2&quot;) });</span>
<span class="fc" id="L178">        conf.addPropertyDirect(&quot;double.list5&quot;, new double[] { 1, 2 });</span>
<span class="fc" id="L179">        List&lt;Object&gt; doubles = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L180">        doubles.add(new Double(&quot;1&quot;));</span>
<span class="fc" id="L181">        doubles.add(new Double(&quot;2&quot;));</span>
<span class="fc" id="L182">        conf.addProperty(&quot;double.list6&quot;, doubles);</span>
<span class="fc" id="L183">        conf.addProperty(&quot;double.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L184">        conf.addProperty(&quot;double.object&quot;, new Double(&quot;1&quot;));</span>
<span class="fc" id="L185">        conf.addProperty(&quot;double.list.interpolated&quot;, &quot;${double.string},2&quot;);</span>

        // lists of big integers
<span class="fc" id="L188">        conf.addProperty(&quot;biginteger.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L189">        conf.addProperty(&quot;biginteger.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L190">        conf.addProperty(&quot;biginteger.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L191">        conf.addProperty(&quot;biginteger.list3&quot;, new BigInteger(&quot;1&quot;));</span>
<span class="fc" id="L192">        conf.addProperty(&quot;biginteger.list3&quot;, new BigInteger(&quot;2&quot;));</span>
<span class="fc" id="L193">        conf.addPropertyDirect(&quot;biginteger.list4&quot;, new BigInteger[] { new BigInteger(&quot;1&quot;), new BigInteger(&quot;2&quot;) });</span>
<span class="fc" id="L194">        List&lt;Object&gt; bigintegers = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L195">        bigintegers.add(new BigInteger(&quot;1&quot;));</span>
<span class="fc" id="L196">        bigintegers.add(new BigInteger(&quot;2&quot;));</span>
<span class="fc" id="L197">        conf.addProperty(&quot;biginteger.list6&quot;, bigintegers);</span>
<span class="fc" id="L198">        conf.addProperty(&quot;biginteger.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L199">        conf.addProperty(&quot;biginteger.object&quot;, new BigInteger(&quot;1&quot;));</span>
<span class="fc" id="L200">        conf.addProperty(&quot;biginteger.list.interpolated&quot;, &quot;${biginteger.string},2&quot;);</span>

        // lists of big decimals
<span class="fc" id="L203">        conf.addProperty(&quot;bigdecimal.list1&quot;, &quot;1&quot;);</span>
<span class="fc" id="L204">        conf.addProperty(&quot;bigdecimal.list1&quot;, &quot;2&quot;);</span>
<span class="fc" id="L205">        conf.addProperty(&quot;bigdecimal.list2&quot;, &quot;1, 2&quot;);</span>
<span class="fc" id="L206">        conf.addProperty(&quot;bigdecimal.list3&quot;, new BigDecimal(&quot;1&quot;));</span>
<span class="fc" id="L207">        conf.addProperty(&quot;bigdecimal.list3&quot;, new BigDecimal(&quot;2&quot;));</span>
<span class="fc" id="L208">        conf.addPropertyDirect(&quot;bigdecimal.list4&quot;, new BigDecimal[] { new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;2&quot;) });</span>
<span class="fc" id="L209">        List&lt;Object&gt; bigdecimals = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L210">        bigdecimals.add(new BigDecimal(&quot;1&quot;));</span>
<span class="fc" id="L211">        bigdecimals.add(new BigDecimal(&quot;2&quot;));</span>
<span class="fc" id="L212">        conf.addProperty(&quot;bigdecimal.list6&quot;, bigdecimals);</span>
<span class="fc" id="L213">        conf.addProperty(&quot;bigdecimal.string&quot;, &quot;1&quot;);</span>
<span class="fc" id="L214">        conf.addProperty(&quot;bigdecimal.object&quot;, new BigDecimal(&quot;1&quot;));</span>
<span class="fc" id="L215">        conf.addProperty(&quot;bigdecimal.list.interpolated&quot;, &quot;${bigdecimal.string},2&quot;);</span>

        // URLs
<span class="fc" id="L218">        String url1 = &quot;http://jakarta.apache.org&quot;;</span>
<span class="fc" id="L219">        String url2 = &quot;http://www.apache.org&quot;;</span>
<span class="fc" id="L220">        conf.addProperty(&quot;url.string&quot;, url1);</span>
<span class="fc" id="L221">        conf.addProperty(&quot;url.string.interpolated&quot;, &quot;${url.string}&quot;);</span>
<span class="fc" id="L222">        conf.addProperty(&quot;url.object&quot;, new URL(url1));</span>
<span class="fc" id="L223">        conf.addProperty(&quot;url.list1&quot;, url1);</span>
<span class="fc" id="L224">        conf.addProperty(&quot;url.list1&quot;, url2);</span>
<span class="fc" id="L225">        conf.addProperty(&quot;url.list2&quot;, url1 + &quot;, &quot; + url2);</span>
<span class="fc" id="L226">        conf.addProperty(&quot;url.list3&quot;, new URL(url1));</span>
<span class="fc" id="L227">        conf.addProperty(&quot;url.list3&quot;, new URL(url2));</span>
<span class="fc" id="L228">        conf.addPropertyDirect(&quot;url.list4&quot;, new URL[] { new URL(url1), new URL(url2) });</span>
<span class="fc" id="L229">        List&lt;Object&gt; urls = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L230">        urls.add(new URL(url1));</span>
<span class="fc" id="L231">        urls.add(new URL(url2));</span>
<span class="fc" id="L232">        conf.addProperty(&quot;url.list6&quot;, urls);</span>
<span class="fc" id="L233">        conf.addProperty(&quot;url.list.interpolated&quot;, &quot;${url.string},&quot; + url2);</span>

        // Locales
<span class="fc" id="L236">        conf.addProperty(&quot;locale.string&quot;, &quot;fr&quot;);</span>
<span class="fc" id="L237">        conf.addProperty(&quot;locale.string.interpolated&quot;, &quot;${locale.string}&quot;);</span>
<span class="fc" id="L238">        conf.addProperty(&quot;locale.object&quot;, Locale.FRENCH);</span>
<span class="fc" id="L239">        conf.addProperty(&quot;locale.list1&quot;, &quot;fr&quot;);</span>
<span class="fc" id="L240">        conf.addProperty(&quot;locale.list1&quot;, &quot;de&quot;);</span>
<span class="fc" id="L241">        conf.addProperty(&quot;locale.list2&quot;, &quot;fr, de&quot;);</span>
<span class="fc" id="L242">        conf.addProperty(&quot;locale.list3&quot;, Locale.FRENCH);</span>
<span class="fc" id="L243">        conf.addProperty(&quot;locale.list3&quot;, Locale.GERMAN);</span>
<span class="fc" id="L244">        conf.addPropertyDirect(&quot;locale.list4&quot;, new Locale[] { Locale.FRENCH, Locale.GERMAN });</span>
<span class="fc" id="L245">        List&lt;Object&gt; locales = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L246">        locales.add(Locale.FRENCH);</span>
<span class="fc" id="L247">        locales.add(Locale.GERMAN);</span>
<span class="fc" id="L248">        conf.addProperty(&quot;locale.list6&quot;, locales);</span>
<span class="fc" id="L249">        conf.addProperty(&quot;locale.list.interpolated&quot;, &quot;${locale.string},de&quot;);</span>

        // Colors
<span class="fc" id="L252">        String color1 = &quot;FF0000&quot;;</span>
<span class="fc" id="L253">        String color2 = &quot;0000FF&quot;;</span>
<span class="fc" id="L254">        conf.addProperty(&quot;color.string&quot;, color1);</span>
<span class="fc" id="L255">        conf.addProperty(&quot;color.string.interpolated&quot;, &quot;${color.string}&quot;);</span>
<span class="fc" id="L256">        conf.addProperty(&quot;color.object&quot;, Color.red);</span>
<span class="fc" id="L257">        conf.addProperty(&quot;color.list1&quot;, color1);</span>
<span class="fc" id="L258">        conf.addProperty(&quot;color.list1&quot;, color2);</span>
<span class="fc" id="L259">        conf.addProperty(&quot;color.list2&quot;, color1 + &quot;, &quot; + color2);</span>
<span class="fc" id="L260">        conf.addProperty(&quot;color.list3&quot;, Color.red);</span>
<span class="fc" id="L261">        conf.addProperty(&quot;color.list3&quot;, Color.blue);</span>
<span class="fc" id="L262">        conf.addPropertyDirect(&quot;color.list4&quot;, new Color[] { Color.red, Color.blue });</span>
<span class="fc" id="L263">        List&lt;Object&gt; colors = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L264">        colors.add(Color.red);</span>
<span class="fc" id="L265">        colors.add(Color.blue);</span>
<span class="fc" id="L266">        conf.addProperty(&quot;color.list6&quot;, colors);</span>
<span class="fc" id="L267">        conf.addProperty(&quot;color.list.interpolated&quot;, &quot;${color.string},&quot; + color2);</span>

        // Dates &amp; Calendars
<span class="fc" id="L270">        String pattern = DATE_PATTERN;</span>
<span class="fc" id="L271">        DateFormat format = new SimpleDateFormat(pattern);</span>
<span class="fc" id="L272">        conf.setProperty(DataConfiguration.DATE_FORMAT_KEY, pattern);</span>

<span class="fc" id="L274">        Date date1 = format.parse(&quot;2004-01-01&quot;);</span>
<span class="fc" id="L275">        Date date2 = format.parse(&quot;2004-12-31&quot;);</span>
<span class="fc" id="L276">        Calendar calendar1 = Calendar.getInstance();</span>
<span class="fc" id="L277">        calendar1.setTime(date1);</span>
<span class="fc" id="L278">        Calendar calendar2 = Calendar.getInstance();</span>
<span class="fc" id="L279">        calendar2.setTime(date2);</span>

<span class="fc" id="L281">        conf.addProperty(&quot;date.string&quot;, &quot;2004-01-01&quot;);</span>
<span class="fc" id="L282">        conf.addProperty(&quot;date.string.interpolated&quot;, &quot;${date.string}&quot;);</span>
<span class="fc" id="L283">        conf.addProperty(&quot;date.object&quot;, date1);</span>
<span class="fc" id="L284">        conf.addProperty(&quot;date.list1&quot;, &quot;2004-01-01&quot;);</span>
<span class="fc" id="L285">        conf.addProperty(&quot;date.list1&quot;, &quot;2004-12-31&quot;);</span>
<span class="fc" id="L286">        conf.addProperty(&quot;date.list2&quot;, &quot;2004-01-01, 2004-12-31&quot;);</span>
<span class="fc" id="L287">        conf.addProperty(&quot;date.list3&quot;, date1);</span>
<span class="fc" id="L288">        conf.addProperty(&quot;date.list3&quot;, date2);</span>
<span class="fc" id="L289">        conf.addPropertyDirect(&quot;date.list4&quot;, new Date[] { date1, date2 });</span>
<span class="fc" id="L290">        conf.addPropertyDirect(&quot;date.list5&quot;, new Calendar[] { calendar1, calendar2 });</span>
<span class="fc" id="L291">        List&lt;Object&gt; dates = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L292">        dates.add(date1);</span>
<span class="fc" id="L293">        dates.add(date2);</span>
<span class="fc" id="L294">        conf.addProperty(&quot;date.list6&quot;, dates);</span>
<span class="fc" id="L295">        conf.addProperty(&quot;date.list.interpolated&quot;, &quot;${date.string},2004-12-31&quot;);</span>
<span class="fc" id="L296">        conf.addPropertyDirect(&quot;date.list7&quot;, new String[] { &quot;2004-01-01&quot;, &quot;2004-12-31&quot; });</span>

<span class="fc" id="L298">        conf.addProperty(&quot;calendar.string&quot;, &quot;2004-01-01&quot;);</span>
<span class="fc" id="L299">        conf.addProperty(&quot;calendar.string.interpolated&quot;, &quot;${calendar.string}&quot;);</span>
<span class="fc" id="L300">        conf.addProperty(&quot;calendar.object&quot;, calendar1);</span>
<span class="fc" id="L301">        conf.addProperty(&quot;calendar.list1&quot;, &quot;2004-01-01&quot;);</span>
<span class="fc" id="L302">        conf.addProperty(&quot;calendar.list1&quot;, &quot;2004-12-31&quot;);</span>
<span class="fc" id="L303">        conf.addProperty(&quot;calendar.list2&quot;, &quot;2004-01-01, 2004-12-31&quot;);</span>
<span class="fc" id="L304">        conf.addProperty(&quot;calendar.list3&quot;, calendar1);</span>
<span class="fc" id="L305">        conf.addProperty(&quot;calendar.list3&quot;, calendar2);</span>
<span class="fc" id="L306">        conf.addPropertyDirect(&quot;calendar.list4&quot;, new Calendar[] { calendar1, calendar2 });</span>
<span class="fc" id="L307">        conf.addPropertyDirect(&quot;calendar.list5&quot;, new Date[] { date1, date2 });</span>
<span class="fc" id="L308">        List&lt;Object&gt; calendars = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L309">        calendars.add(date1);</span>
<span class="fc" id="L310">        calendars.add(date2);</span>
<span class="fc" id="L311">        conf.addProperty(&quot;calendar.list6&quot;, calendars);</span>
<span class="fc" id="L312">        conf.addProperty(&quot;calendar.list.interpolated&quot;, &quot;${calendar.string},2004-12-31&quot;);</span>
<span class="fc" id="L313">        conf.addPropertyDirect(&quot;calendar.list7&quot;, new String[] { &quot;2004-01-01&quot;, &quot;2004-12-31&quot; });</span>

        // host address
<span class="fc" id="L316">        conf.addProperty(&quot;ip.string&quot;, &quot;127.0.0.1&quot;);</span>
<span class="fc" id="L317">        conf.addProperty(&quot;ip.string.interpolated&quot;, &quot;${ip.string}&quot;);</span>
<span class="fc" id="L318">        conf.addProperty(&quot;ip.object&quot;, InetAddress.getByName(&quot;127.0.0.1&quot;));</span>

        // email address
<span class="fc" id="L321">        conf.addProperty(&quot;email.string&quot;, &quot;ebourg@apache.org&quot;);</span>
<span class="fc" id="L322">        conf.addProperty(&quot;email.string.interpolated&quot;, &quot;${email.string}&quot;);</span>
<span class="fc" id="L323">        conf.addProperty(&quot;email.object&quot;, createInternetAddress(&quot;ebourg@apache.org&quot;));</span>
<span class="fc" id="L324">    }</span>

    @Test
    public void testGetConfiguration()
    {
<span class="fc" id="L329">        Configuration baseconf = new BaseConfiguration();</span>
<span class="fc" id="L330">        DataConfiguration conf = new DataConfiguration(baseconf);</span>

<span class="fc" id="L332">        assertEquals(&quot;base configuration&quot;, baseconf, conf.getConfiguration());</span>
<span class="fc" id="L333">    }</span>

    @Test
    public void testIsEmpty()
    {
<span class="fc" id="L338">        Configuration baseconf = new BaseConfiguration();</span>
<span class="fc" id="L339">        DataConfiguration conf = new DataConfiguration(baseconf);</span>

<span class="fc" id="L341">        assertTrue(&quot;not empty&quot;, conf.isEmpty());</span>

<span class="fc" id="L343">        baseconf.setProperty(&quot;foo&quot;, &quot;bar&quot;);</span>

<span class="fc" id="L345">        assertFalse(&quot;empty&quot;, conf.isEmpty());</span>
<span class="fc" id="L346">    }</span>

    @Test
    public void testContainsKey()
    {
<span class="fc" id="L351">        Configuration baseconf = new BaseConfiguration();</span>
<span class="fc" id="L352">        DataConfiguration conf = new DataConfiguration(baseconf);</span>

<span class="fc" id="L354">        assertFalse(conf.containsKey(&quot;foo&quot;));</span>

<span class="fc" id="L356">        baseconf.setProperty(&quot;foo&quot;, &quot;bar&quot;);</span>

<span class="fc" id="L358">        assertTrue(conf.containsKey(&quot;foo&quot;));</span>
<span class="fc" id="L359">    }</span>

    @Test
    public void testGetKeys()
    {
<span class="fc" id="L364">        Configuration baseconf = new BaseConfiguration();</span>
<span class="fc" id="L365">        DataConfiguration conf = new DataConfiguration(baseconf);</span>

<span class="fc" id="L367">        baseconf.setProperty(&quot;foo&quot;, &quot;bar&quot;);</span>

<span class="fc" id="L369">        Iterator&lt;String&gt; it = conf.getKeys();</span>
<span class="fc" id="L370">        assertTrue(&quot;the iterator is empty&quot;, it.hasNext());</span>
<span class="fc" id="L371">        assertEquals(&quot;unique key&quot;, &quot;foo&quot;, it.next());</span>
<span class="fc" id="L372">        assertFalse(&quot;the iterator is not exhausted&quot;, it.hasNext());</span>
<span class="fc" id="L373">    }</span>

    @Test(expected = ConversionException.class)
    public void testGetInvalidType()
    {
<span class="nc" id="L378">        conf.get(Boolean.class, &quot;url.object&quot;, null);</span>
<span class="nc" id="L379">    }</span>

    @Test
    public void testGetUnknown()
    {
<span class="fc" id="L384">        assertNull(&quot;non null object for a missing key&quot;, conf.get(Object.class, &quot;unknownkey&quot;));</span>
<span class="fc" id="L385">    }</span>

    @Test(expected = NoSuchElementException.class)
    public void testGetUnknownException()
    {
<span class="fc" id="L390">        conf.setThrowExceptionOnMissing(true);</span>
<span class="nc" id="L391">        conf.get(Object.class, &quot;unknownkey&quot;);</span>
<span class="nc" id="L392">    }</span>

    @Test(expected = IllegalArgumentException.class)
    public void testGetArrayInvalidDefaultType()
    {
<span class="nc" id="L397">        conf.getArray(Boolean.class, &quot;unknownkey&quot;, new URL[] {});</span>
<span class="nc" id="L398">    }</span>

    @Test(expected = ConversionException.class)
    public void testGetPrimitiveArrayInvalidType()
    {
<span class="nc" id="L403">        conf.getArray(Boolean.TYPE, &quot;calendar.list4&quot;);</span>
<span class="nc" id="L404">    }</span>

    @Test
    public void testGetBooleanArray()
    {
        // missing list
<span class="fc" id="L410">        boolean[] defaultValue = new boolean[] { false, true };</span>
<span class="fc" id="L411">        ArrayAssert.assertEquals(defaultValue, conf.getBooleanArray(&quot;boolean.list&quot;, defaultValue));</span>

<span class="fc" id="L413">        boolean[] expected = new boolean[] { true, false };</span>

        // list of strings
<span class="fc" id="L416">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L419">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list2&quot;));</span>

        // list of Boolean objects
<span class="fc" id="L422">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list3&quot;));</span>

        // array of Boolean objects
<span class="fc" id="L425">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list4&quot;));</span>

        // array of boolean primitives
<span class="fc" id="L428">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list5&quot;));</span>

        // list of Boolean objects
<span class="fc" id="L431">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L434">        ArrayAssert.assertEquals(expected, conf.getBooleanArray(&quot;boolean.list.interpolated&quot;));</span>

        // single boolean values
<span class="fc" id="L437">        ArrayAssert.assertEquals(new boolean[] { true }, conf.getBooleanArray(&quot;boolean.string&quot;));</span>
<span class="fc" id="L438">        ArrayAssert.assertEquals(new boolean[] { true }, conf.getBooleanArray(&quot;boolean.object&quot;));</span>

        // empty array
<span class="fc" id="L441">        ArrayAssert.assertEquals(new boolean[] { }, conf.getBooleanArray(&quot;empty&quot;));</span>
<span class="fc" id="L442">    }</span>

    @Test
    public void testGetBooleanList()
    {
        // missing list
<span class="fc" id="L448">        ListAssert.assertEquals(null, conf.getBooleanList(&quot;boolean.list&quot;, null));</span>

<span class="fc" id="L450">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L451">        expected.add(Boolean.TRUE);</span>
<span class="fc" id="L452">        expected.add(Boolean.FALSE);</span>

        // list of strings
<span class="fc" id="L455">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L458">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list2&quot;));</span>

        // list of Boolean objects
<span class="fc" id="L461">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list3&quot;));</span>

        // array of Boolean objects
<span class="fc" id="L464">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list4&quot;));</span>

        // array of boolean primitives
<span class="fc" id="L467">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list5&quot;));</span>

        // list of Boolean objects
<span class="fc" id="L470">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L473">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.list.interpolated&quot;));</span>

        // single boolean values
<span class="fc" id="L476">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L477">        expected.add(Boolean.TRUE);</span>
<span class="fc" id="L478">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.string&quot;));</span>
<span class="fc" id="L479">        ListAssert.assertEquals(expected, conf.getBooleanList(&quot;boolean.object&quot;));</span>

        // empty list
<span class="fc" id="L482">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getBooleanList(&quot;empty&quot;));</span>
<span class="fc" id="L483">    }</span>

    @Test
    public void testGetByteArray()
    {
        // missing list
<span class="fc" id="L489">        byte[] defaultValue = new byte[] { 1, 2};</span>
<span class="fc" id="L490">        ArrayAssert.assertEquals(defaultValue, conf.getByteArray(&quot;byte.list&quot;, defaultValue));</span>

<span class="fc" id="L492">        byte[] expected = new byte[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L495">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L498">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list2&quot;));</span>

        // list of Byte objects
<span class="fc" id="L501">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list3&quot;));</span>

        // array of Byte objects
<span class="fc" id="L504">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list4&quot;));</span>

        // array of byte primitives
<span class="fc" id="L507">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list5&quot;));</span>

        // list of Byte objects
<span class="fc" id="L510">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L513">        ArrayAssert.assertEquals(expected, conf.getByteArray(&quot;byte.list.interpolated&quot;));</span>

        // single byte values
<span class="fc" id="L516">        ArrayAssert.assertEquals(new byte[] { 1 }, conf.getByteArray(&quot;byte.string&quot;));</span>
<span class="fc" id="L517">        ArrayAssert.assertEquals(new byte[] { 1 }, conf.getByteArray(&quot;byte.object&quot;));</span>

        // empty array
<span class="fc" id="L520">        ArrayAssert.assertEquals(new byte[] { }, conf.getByteArray(&quot;empty&quot;));</span>
<span class="fc" id="L521">    }</span>

    @Test
    public void testGetByteList()
    {
        // missing list
<span class="fc" id="L527">        ListAssert.assertEquals(null, conf.getByteList(&quot;byte.list&quot;, null));</span>

<span class="fc" id="L529">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L530">        expected.add(new Byte(&quot;1&quot;));</span>
<span class="fc" id="L531">        expected.add(new Byte(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L534">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L537">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list2&quot;));</span>

        // list of Byte objects
<span class="fc" id="L540">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list3&quot;));</span>

        // array of Byte objects
<span class="fc" id="L543">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list4&quot;));</span>

        // array of byte primitives
<span class="fc" id="L546">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list5&quot;));</span>

        // list of Byte objects
<span class="fc" id="L549">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L552">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.list.interpolated&quot;));</span>

        // single byte values
<span class="fc" id="L555">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L556">        expected.add(new Byte(&quot;1&quot;));</span>
<span class="fc" id="L557">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.string&quot;));</span>
<span class="fc" id="L558">        ListAssert.assertEquals(expected, conf.getByteList(&quot;byte.object&quot;));</span>

        // empty list
<span class="fc" id="L561">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getByteList(&quot;empty&quot;));</span>
<span class="fc" id="L562">    }</span>

    @Test
    public void testGetShortArray()
    {
        // missing list
<span class="fc" id="L568">        short[] defaultValue = new short[] { 2, 1};</span>
<span class="fc" id="L569">        ArrayAssert.assertEquals(defaultValue, conf.getShortArray(&quot;short.list&quot;, defaultValue));</span>

<span class="fc" id="L571">        short[] expected = new short[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L574">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L577">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list2&quot;));</span>

        // list of Byte objects
<span class="fc" id="L580">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list3&quot;));</span>

        // array of Byte objects
<span class="fc" id="L583">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list4&quot;));</span>

        // array of byte primitives
<span class="fc" id="L586">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list5&quot;));</span>

        // list of Byte objects
<span class="fc" id="L589">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L592">        ArrayAssert.assertEquals(expected, conf.getShortArray(&quot;short.list.interpolated&quot;));</span>

        // single byte values
<span class="fc" id="L595">        ArrayAssert.assertEquals(new short[] { 1 }, conf.getShortArray(&quot;short.string&quot;));</span>
<span class="fc" id="L596">        ArrayAssert.assertEquals(new short[] { 1 }, conf.getShortArray(&quot;short.object&quot;));</span>

        // empty array
<span class="fc" id="L599">        ArrayAssert.assertEquals(new short[] { }, conf.getShortArray(&quot;empty&quot;));</span>
<span class="fc" id="L600">    }</span>

    @Test
    public void testGetShortList()
    {
        // missing list
<span class="fc" id="L606">        ListAssert.assertEquals(null, conf.getShortList(&quot;short.list&quot;, null));</span>

<span class="fc" id="L608">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L609">        expected.add(new Short(&quot;1&quot;));</span>
<span class="fc" id="L610">        expected.add(new Short(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L613">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L616">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list2&quot;));</span>

        // list of Short objects
<span class="fc" id="L619">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list3&quot;));</span>

        // array of Short objects
<span class="fc" id="L622">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list4&quot;));</span>

        // array of short primitives
<span class="fc" id="L625">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list5&quot;));</span>

        // list of Short objects
<span class="fc" id="L628">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L631">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.list.interpolated&quot;));</span>

        // single short values
<span class="fc" id="L634">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L635">        expected.add(new Short(&quot;1&quot;));</span>
<span class="fc" id="L636">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.string&quot;));</span>
<span class="fc" id="L637">        ListAssert.assertEquals(expected, conf.getShortList(&quot;short.object&quot;));</span>

        // empty list
<span class="fc" id="L640">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getShortList(&quot;empty&quot;));</span>
<span class="fc" id="L641">    }</span>

    @Test
    public void testGetIntegerArray()
    {
        // missing list
<span class="fc" id="L647">        int[] defaultValue = new int[] { 2, 1};</span>
<span class="fc" id="L648">        ArrayAssert.assertEquals(defaultValue, conf.getIntArray(&quot;integer.list&quot;, defaultValue));</span>

<span class="fc" id="L650">        int[] expected = new int[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L653">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L656">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list2&quot;));</span>

        // list of Integer objects
<span class="fc" id="L659">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list3&quot;));</span>

        // array of Integer objects
<span class="fc" id="L662">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list4&quot;));</span>

        // array of int primitives
<span class="fc" id="L665">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list5&quot;));</span>

        // list of Integer objects
<span class="fc" id="L668">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L671">        ArrayAssert.assertEquals(expected, conf.getIntArray(&quot;integer.list.interpolated&quot;));</span>

        // single int values
<span class="fc" id="L674">        ArrayAssert.assertEquals(new int[] { 1 }, conf.getIntArray(&quot;integer.string&quot;));</span>
<span class="fc" id="L675">        ArrayAssert.assertEquals(new int[] { 1 }, conf.getIntArray(&quot;integer.object&quot;));</span>

        // empty array
<span class="fc" id="L678">        ArrayAssert.assertEquals(new int[] { }, conf.getIntArray(&quot;empty&quot;));</span>
<span class="fc" id="L679">    }</span>

    @Test
    public void testGetIntegerList()
    {
        // missing list
<span class="fc" id="L685">        ListAssert.assertEquals(null, conf.getIntegerList(&quot;integer.list&quot;, null));</span>

<span class="fc" id="L687">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L688">        expected.add(new Integer(&quot;1&quot;));</span>
<span class="fc" id="L689">        expected.add(new Integer(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L692">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L695">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list2&quot;));</span>

        // list of Integer objects
<span class="fc" id="L698">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list3&quot;));</span>

        // array of Integer objects
<span class="fc" id="L701">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list4&quot;));</span>

        // array of int primitives
<span class="fc" id="L704">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list5&quot;));</span>

        // list of Integer objects
<span class="fc" id="L707">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L710">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.list.interpolated&quot;));</span>

        // single int values
<span class="fc" id="L713">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L714">        expected.add(new Integer(&quot;1&quot;));</span>
<span class="fc" id="L715">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.string&quot;));</span>
<span class="fc" id="L716">        ListAssert.assertEquals(expected, conf.getIntegerList(&quot;integer.object&quot;));</span>

        // empty list
<span class="fc" id="L719">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getIntegerList(&quot;empty&quot;));</span>
<span class="fc" id="L720">    }</span>

    @Test
    public void testGetLongArray()
    {
        // missing list
<span class="fc" id="L726">        long[] defaultValue = new long[] { 2, 1};</span>
<span class="fc" id="L727">        ArrayAssert.assertEquals(defaultValue, conf.getLongArray(&quot;long.list&quot;, defaultValue));</span>

<span class="fc" id="L729">        long[] expected = new long[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L732">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L735">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list2&quot;));</span>

        // list of Long objects
<span class="fc" id="L738">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list3&quot;));</span>

        // array of Long objects
<span class="fc" id="L741">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list4&quot;));</span>

        // array of long primitives
<span class="fc" id="L744">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list5&quot;));</span>

        // list of Long objects
<span class="fc" id="L747">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L750">        ArrayAssert.assertEquals(expected, conf.getLongArray(&quot;long.list.interpolated&quot;));</span>

        // single long values
<span class="fc" id="L753">        ArrayAssert.assertEquals(new long[] { 1 }, conf.getLongArray(&quot;long.string&quot;));</span>
<span class="fc" id="L754">        ArrayAssert.assertEquals(new long[] { 1 }, conf.getLongArray(&quot;long.object&quot;));</span>

        // empty array
<span class="fc" id="L757">        ArrayAssert.assertEquals(new long[] { }, conf.getLongArray(&quot;empty&quot;));</span>
<span class="fc" id="L758">    }</span>

    @Test
    public void testGetLongList()
    {
        // missing list
<span class="fc" id="L764">        ListAssert.assertEquals(null, conf.getLongList(&quot;long.list&quot;, null));</span>

<span class="fc" id="L766">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L767">        expected.add(new Long(&quot;1&quot;));</span>
<span class="fc" id="L768">        expected.add(new Long(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L771">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L774">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list2&quot;));</span>

        // list of Long objects
<span class="fc" id="L777">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list3&quot;));</span>

        // array of Long objects
<span class="fc" id="L780">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list4&quot;));</span>

        // array of long primitives
<span class="fc" id="L783">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list5&quot;));</span>

        // list of Long objects
<span class="fc" id="L786">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L789">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.list.interpolated&quot;));</span>

        // single long values
<span class="fc" id="L792">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L793">        expected.add(new Long(&quot;1&quot;));</span>
<span class="fc" id="L794">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.string&quot;));</span>
<span class="fc" id="L795">        ListAssert.assertEquals(expected, conf.getLongList(&quot;long.object&quot;));</span>

        // empty list
<span class="fc" id="L798">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getLongList(&quot;empty&quot;));</span>
<span class="fc" id="L799">    }</span>

    @Test
    public void testGetFloatArray()
    {
        // missing list
<span class="fc" id="L805">        float[] defaultValue = new float[] { 2, 1};</span>
<span class="fc" id="L806">        ArrayAssert.assertEquals(defaultValue, conf.getFloatArray(&quot;float.list&quot;, defaultValue), 0);</span>

<span class="fc" id="L808">        float[] expected = new float[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L811">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list1&quot;), 0);</span>

        // list of strings, comma separated
<span class="fc" id="L814">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list2&quot;), 0);</span>

        // list of Float objects
<span class="fc" id="L817">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list3&quot;), 0);</span>

        // array of Float objects
<span class="fc" id="L820">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list4&quot;), 0);</span>

        // array of float primitives
<span class="fc" id="L823">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list5&quot;), 0);</span>

        // list of Float objects
<span class="fc" id="L826">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list6&quot;), 0);</span>

        // list of interpolated values
<span class="fc" id="L829">        ArrayAssert.assertEquals(expected, conf.getFloatArray(&quot;float.list.interpolated&quot;), 0);</span>

        // single float values
<span class="fc" id="L832">        ArrayAssert.assertEquals(new float[] { 1 }, conf.getFloatArray(&quot;float.string&quot;), 0);</span>
<span class="fc" id="L833">        ArrayAssert.assertEquals(new float[] { 1 }, conf.getFloatArray(&quot;float.object&quot;), 0);</span>

        // empty array
<span class="fc" id="L836">        ArrayAssert.assertEquals(new float[] { }, conf.getFloatArray(&quot;empty&quot;), 0);</span>
<span class="fc" id="L837">    }</span>

    @Test
    public void testGetFloatList()
    {
        // missing list
<span class="fc" id="L843">        ListAssert.assertEquals(null, conf.getFloatList(&quot;float.list&quot;, null));</span>

<span class="fc" id="L845">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L846">        expected.add(new Float(&quot;1&quot;));</span>
<span class="fc" id="L847">        expected.add(new Float(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L850">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L853">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list2&quot;));</span>

        // list of Float objects
<span class="fc" id="L856">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list3&quot;));</span>

        // array of Float objects
<span class="fc" id="L859">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list4&quot;));</span>

        // array of float primitives
<span class="fc" id="L862">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list5&quot;));</span>

        // list of Float objects
<span class="fc" id="L865">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L868">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.list.interpolated&quot;));</span>

        // single float values
<span class="fc" id="L871">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L872">        expected.add(new Float(&quot;1&quot;));</span>
<span class="fc" id="L873">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.string&quot;));</span>
<span class="fc" id="L874">        ListAssert.assertEquals(expected, conf.getFloatList(&quot;float.object&quot;));</span>

        // empty list
<span class="fc" id="L877">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getFloatList(&quot;empty&quot;));</span>
<span class="fc" id="L878">    }</span>

    @Test
    public void testGetDoubleArray()
    {
        // missing list
<span class="fc" id="L884">        double[] defaultValue = new double[] { 2, 1 };</span>
<span class="fc" id="L885">        ArrayAssert.assertEquals(defaultValue, conf.getDoubleArray(&quot;double.list&quot;, defaultValue), 0);</span>

<span class="fc" id="L887">        double[] expected = new double[] { 1, 2 };</span>

        // list of strings
<span class="fc" id="L890">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list1&quot;), 0);</span>

        // list of strings, comma separated
<span class="fc" id="L893">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list2&quot;), 0);</span>

        // list of Double objects
<span class="fc" id="L896">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list3&quot;), 0);</span>

        // array of Double objects
<span class="fc" id="L899">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list4&quot;), 0);</span>

        // array of double primitives
<span class="fc" id="L902">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list5&quot;), 0);</span>

        // list of Double objects
<span class="fc" id="L905">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list6&quot;), 0);</span>

        // list of interpolated values
<span class="fc" id="L908">        ArrayAssert.assertEquals(expected, conf.getDoubleArray(&quot;double.list.interpolated&quot;), 0);</span>

        // single double values
<span class="fc" id="L911">        ArrayAssert.assertEquals(new double[] { 1 }, conf.getDoubleArray(&quot;double.string&quot;), 0);</span>
<span class="fc" id="L912">        ArrayAssert.assertEquals(new double[] { 1 }, conf.getDoubleArray(&quot;double.object&quot;), 0);</span>

        // empty array
<span class="fc" id="L915">        ArrayAssert.assertEquals(new double[] { }, conf.getDoubleArray(&quot;empty&quot;), 0);</span>
<span class="fc" id="L916">    }</span>

    @Test
    public void testGetDoubleList()
    {
        // missing list
<span class="fc" id="L922">        ListAssert.assertEquals(null, conf.getDoubleList(&quot;double.list&quot;, null));</span>

<span class="fc" id="L924">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L925">        expected.add(new Double(&quot;1&quot;));</span>
<span class="fc" id="L926">        expected.add(new Double(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L929">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L932">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list2&quot;));</span>

        // list of Double objects
<span class="fc" id="L935">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list3&quot;));</span>

        // array of Double objects
<span class="fc" id="L938">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list4&quot;));</span>

        // array of double primitives
<span class="fc" id="L941">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list5&quot;));</span>

        // list of Double objects
<span class="fc" id="L944">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L947">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.list.interpolated&quot;));</span>

        // single double values
<span class="fc" id="L950">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L951">        expected.add(new Double(&quot;1&quot;));</span>
<span class="fc" id="L952">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.string&quot;));</span>
<span class="fc" id="L953">        ListAssert.assertEquals(expected, conf.getDoubleList(&quot;double.object&quot;));</span>

        // empty list
<span class="fc" id="L956">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getDoubleList(&quot;empty&quot;));</span>
<span class="fc" id="L957">    }</span>

    @Test
    public void testGetBigIntegerArray()
    {
        // missing list
<span class="fc" id="L963">        BigInteger[] defaultValue = new BigInteger[] { new BigInteger(&quot;2&quot;), new BigInteger(&quot;1&quot;) };</span>
<span class="fc" id="L964">        ArrayAssert.assertEquals(defaultValue, conf.getBigIntegerArray(&quot;biginteger.list&quot;, defaultValue));</span>

<span class="fc" id="L966">        BigInteger[] expected = new BigInteger[] { new BigInteger(&quot;1&quot;), new BigInteger(&quot;2&quot;) };</span>

        // list of strings
<span class="fc" id="L969">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L972">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list2&quot;));</span>

        // list of BigInteger objects
<span class="fc" id="L975">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list3&quot;));</span>

        // array of BigInteger objects
<span class="fc" id="L978">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list4&quot;));</span>

        // list of BigInteger objects
<span class="fc" id="L981">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L984">        ArrayAssert.assertEquals(expected, conf.getBigIntegerArray(&quot;biginteger.list.interpolated&quot;));</span>

        // single BigInteger values
<span class="fc" id="L987">        ArrayAssert.assertEquals(new BigInteger[] { new BigInteger(&quot;1&quot;) }, conf.getBigIntegerArray(&quot;biginteger.string&quot;));</span>
<span class="fc" id="L988">        ArrayAssert.assertEquals(new BigInteger[] { new BigInteger(&quot;1&quot;) }, conf.getBigIntegerArray(&quot;biginteger.object&quot;));</span>

        // empty array
<span class="fc" id="L991">        ArrayAssert.assertEquals(new BigInteger[] { }, conf.getBigIntegerArray(&quot;empty&quot;));</span>
<span class="fc" id="L992">    }</span>

    @Test
    public void testGetBigIntegerList()
    {
        // missing list
<span class="fc" id="L998">        List&lt;BigInteger&gt; bigIntegerList = conf.getBigIntegerList(&quot;biginteger.list&quot;, null);</span>
<span class="fc" id="L999">        ListAssert.assertEquals(null, bigIntegerList);</span>

<span class="fc" id="L1001">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1002">        expected.add(new BigInteger(&quot;1&quot;));</span>
<span class="fc" id="L1003">        expected.add(new BigInteger(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L1006">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1009">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list2&quot;));</span>

        // list of BigInteger objects
<span class="fc" id="L1012">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list3&quot;));</span>

        // array of BigInteger objects
<span class="fc" id="L1015">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list4&quot;));</span>

        // list of BigInteger objects
<span class="fc" id="L1018">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1021">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.list.interpolated&quot;));</span>

        // single BigInteger values
<span class="fc" id="L1024">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1025">        expected.add(new BigInteger(&quot;1&quot;));</span>
<span class="fc" id="L1026">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.string&quot;));</span>
<span class="fc" id="L1027">        ListAssert.assertEquals(expected, conf.getBigIntegerList(&quot;biginteger.object&quot;));</span>

        // empty list
<span class="fc" id="L1030">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getBigIntegerList(&quot;empty&quot;));</span>
<span class="fc" id="L1031">    }</span>

    @Test
    public void testGetBigDecimalArray()
    {
        // missing list
<span class="fc" id="L1037">        BigDecimal[] defaultValue = new BigDecimal[] { new BigDecimal(&quot;2&quot;), new BigDecimal(&quot;1&quot;) };</span>
<span class="fc" id="L1038">        ArrayAssert.assertEquals(defaultValue, conf.getBigDecimalArray(&quot;bigdecimal.list&quot;, defaultValue));</span>

<span class="fc" id="L1040">        BigDecimal[] expected = new BigDecimal[] { new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;2&quot;) };</span>

        // list of strings
<span class="fc" id="L1043">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1046">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list2&quot;));</span>

        // list of BigDecimal objects
<span class="fc" id="L1049">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list3&quot;));</span>

        // array of BigDecimal objects
<span class="fc" id="L1052">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list4&quot;));</span>

        // list of BigDecimal objects
<span class="fc" id="L1055">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1058">        ArrayAssert.assertEquals(expected, conf.getBigDecimalArray(&quot;bigdecimal.list.interpolated&quot;));</span>

        // single BigDecimal values
<span class="fc" id="L1061">        ArrayAssert.assertEquals(new BigDecimal[] { new BigDecimal(&quot;1&quot;) }, conf.getBigDecimalArray(&quot;bigdecimal.string&quot;));</span>
<span class="fc" id="L1062">        ArrayAssert.assertEquals(new BigDecimal[] { new BigDecimal(&quot;1&quot;) }, conf.getBigDecimalArray(&quot;bigdecimal.object&quot;));</span>

        // empty array
<span class="fc" id="L1065">        ArrayAssert.assertEquals(new BigDecimal[] { }, conf.getBigDecimalArray(&quot;empty&quot;));</span>
<span class="fc" id="L1066">    }</span>

    @Test
    public void testGetBigDecimalList()
    {
        // missing list
<span class="fc" id="L1072">        ListAssert.assertEquals(null, conf.getBigDecimalList(&quot;bigdecimal.list&quot;, null));</span>

<span class="fc" id="L1074">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1075">        expected.add(new BigDecimal(&quot;1&quot;));</span>
<span class="fc" id="L1076">        expected.add(new BigDecimal(&quot;2&quot;));</span>

        // list of strings
<span class="fc" id="L1079">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1082">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list2&quot;));</span>

        // list of BigDecimal objects
<span class="fc" id="L1085">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list3&quot;));</span>

        // array of BigDecimal objects
<span class="fc" id="L1088">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list4&quot;));</span>

        // list of BigDecimal objects
<span class="fc" id="L1091">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1094">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.list.interpolated&quot;));</span>

        // single BigDecimal values
<span class="fc" id="L1097">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1098">        expected.add(new BigDecimal(&quot;1&quot;));</span>
<span class="fc" id="L1099">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.string&quot;));</span>
<span class="fc" id="L1100">        ListAssert.assertEquals(expected, conf.getBigDecimalList(&quot;bigdecimal.object&quot;));</span>

        // empty list
<span class="fc" id="L1103">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getBigDecimalList(&quot;empty&quot;));</span>
<span class="fc" id="L1104">    }</span>

    @Test
    public void testGetURL() throws Exception
    {
        // missing URL
<span class="fc" id="L1110">        URL defaultValue = new URL(&quot;http://www.google.com&quot;);</span>
<span class="fc" id="L1111">        assertEquals(defaultValue, conf.getURL(&quot;url&quot;, defaultValue));</span>

<span class="fc" id="L1113">        URL expected = new URL(&quot;http://jakarta.apache.org&quot;);</span>

        // URL string
<span class="fc" id="L1116">        assertEquals(expected, conf.getURL(&quot;url.string&quot;));</span>

        // URL object
<span class="fc" id="L1119">        assertEquals(expected, conf.getURL(&quot;url.object&quot;));</span>

        // interpolated value
<span class="fc" id="L1122">        assertEquals(expected, conf.getURL(&quot;url.string.interpolated&quot;));</span>
<span class="fc" id="L1123">    }</span>

    @Test
    public void testGetURLArray() throws Exception
    {
        // missing list
<span class="fc" id="L1129">        URL[] defaultValue = new URL[] { new URL(&quot;http://www.apache.org&quot;), new URL(&quot;http://jakarta.apache.org&quot;) };</span>
<span class="fc" id="L1130">        ArrayAssert.assertEquals(defaultValue, conf.getURLArray(&quot;url.list&quot;, defaultValue));</span>

<span class="fc" id="L1132">        URL[] expected = new URL[] { new URL(&quot;http://jakarta.apache.org&quot;), new URL(&quot;http://www.apache.org&quot;) };</span>

        // list of strings
<span class="fc" id="L1135">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1138">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list2&quot;));</span>

        // list of URL objects
<span class="fc" id="L1141">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list3&quot;));</span>

        // array of URL objects
<span class="fc" id="L1144">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list4&quot;));</span>

        // list of URL objects
<span class="fc" id="L1147">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1150">        ArrayAssert.assertEquals(expected, conf.getURLArray(&quot;url.list.interpolated&quot;));</span>

        // single URL values
<span class="fc" id="L1153">        ArrayAssert.assertEquals(new URL[] { new URL(&quot;http://jakarta.apache.org&quot;) }, conf.getURLArray(&quot;url.string&quot;));</span>
<span class="fc" id="L1154">        ArrayAssert.assertEquals(new URL[] { new URL(&quot;http://jakarta.apache.org&quot;) }, conf.getURLArray(&quot;url.object&quot;));</span>

        // empty array
<span class="fc" id="L1157">        ArrayAssert.assertEquals(new URL[] { }, conf.getURLArray(&quot;empty&quot;));</span>
<span class="fc" id="L1158">    }</span>

    @Test
    public void testGetURLList() throws Exception
    {
        // missing list
<span class="fc" id="L1164">        ListAssert.assertEquals(null, conf.getURLList(&quot;url.list&quot;, null));</span>

<span class="fc" id="L1166">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1167">        expected.add(new URL(&quot;http://jakarta.apache.org&quot;));</span>
<span class="fc" id="L1168">        expected.add(new URL(&quot;http://www.apache.org&quot;));</span>

        // list of strings
<span class="fc" id="L1171">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1174">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list2&quot;));</span>

        // list of URL objects
<span class="fc" id="L1177">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list3&quot;));</span>

        // array of URL objects
<span class="fc" id="L1180">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list4&quot;));</span>

        // list of URL objects
<span class="fc" id="L1183">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1186">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.list.interpolated&quot;));</span>

        // single URL values
<span class="fc" id="L1189">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1190">        expected.add(new URL(&quot;http://jakarta.apache.org&quot;));</span>
<span class="fc" id="L1191">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.string&quot;));</span>
<span class="fc" id="L1192">        ListAssert.assertEquals(expected, conf.getURLList(&quot;url.object&quot;));</span>

        // empty list
<span class="fc" id="L1195">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getURLList(&quot;empty&quot;));</span>
<span class="fc" id="L1196">    }</span>

    @Test
    public void testGetLocale()
    {
        // language
<span class="fc" id="L1202">        conf.setProperty(&quot;locale&quot;, &quot;fr&quot;);</span>
<span class="fc" id="L1203">        assertEquals(&quot;language&quot;, new Locale(&quot;fr&quot;, &quot;&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // language + variant
<span class="fc" id="L1206">        conf.setProperty(&quot;locale&quot;, &quot;fr__POSIX&quot;);</span>
<span class="fc" id="L1207">        assertEquals(&quot;language + variant&quot;, new Locale(&quot;fr&quot;, &quot;&quot;, &quot;POSIX&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // country
<span class="fc" id="L1210">        conf.setProperty(&quot;locale&quot;, &quot;_FR&quot;);</span>
<span class="fc" id="L1211">        assertEquals(&quot;country&quot;, new Locale(&quot;&quot;, &quot;FR&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // country + variant
<span class="fc" id="L1214">        conf.setProperty(&quot;locale&quot;, &quot;_FR_WIN&quot;);</span>
<span class="fc" id="L1215">        assertEquals(&quot;country + variant&quot;, new Locale(&quot;&quot;, &quot;FR&quot;, &quot;WIN&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // language + country
<span class="fc" id="L1218">        conf.setProperty(&quot;locale&quot;, &quot;fr_FR&quot;);</span>
<span class="fc" id="L1219">        assertEquals(&quot;language + country&quot;, new Locale(&quot;fr&quot;, &quot;FR&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // language + country + variant
<span class="fc" id="L1222">        conf.setProperty(&quot;locale&quot;, &quot;fr_FR_MAC&quot;);</span>
<span class="fc" id="L1223">        assertEquals(&quot;language + country + variant&quot;, new Locale(&quot;fr&quot;, &quot;FR&quot;, &quot;MAC&quot;), conf.getLocale(&quot;locale&quot;));</span>

        // default value
<span class="fc" id="L1226">        conf.setProperty(&quot;locale&quot;, &quot;fr&quot;);</span>
<span class="fc" id="L1227">        assertEquals(&quot;Existing key with default value&quot;, Locale.FRENCH, conf.getLocale(&quot;locale&quot;, Locale.GERMAN));</span>
<span class="fc" id="L1228">        assertEquals(&quot;Missing key with default value&quot;, Locale.GERMAN, conf.getLocale(&quot;localeNotInConfig&quot;, Locale.GERMAN));</span>

        // interpolated value
<span class="fc" id="L1231">        assertEquals(Locale.FRENCH, conf.getLocale(&quot;locale.string.interpolated&quot;));</span>
<span class="fc" id="L1232">    }</span>

    @Test
    public void testGetLocaleArray() throws Exception
    {
        // missing list
<span class="fc" id="L1238">        Locale[] defaultValue = new Locale[] { Locale.GERMAN, Locale.FRENCH };</span>
<span class="fc" id="L1239">        ArrayAssert.assertEquals(defaultValue, conf.getLocaleArray(&quot;locale.list&quot;, defaultValue));</span>

<span class="fc" id="L1241">        Locale[] expected = new Locale[] { Locale.FRENCH, Locale.GERMAN };</span>

        // list of strings
<span class="fc" id="L1244">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1247">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list2&quot;));</span>

        // list of Locale objects
<span class="fc" id="L1250">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list3&quot;));</span>

        // array of Locale objects
<span class="fc" id="L1253">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list4&quot;));</span>

        // list of Locale objects
<span class="fc" id="L1256">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1259">        ArrayAssert.assertEquals(expected, conf.getLocaleArray(&quot;locale.list.interpolated&quot;));</span>

        // single Locale values
<span class="fc" id="L1262">        ArrayAssert.assertEquals(new Locale[] { Locale.FRENCH }, conf.getLocaleArray(&quot;locale.string&quot;));</span>
<span class="fc" id="L1263">        ArrayAssert.assertEquals(new Locale[] { Locale.FRENCH }, conf.getLocaleArray(&quot;locale.object&quot;));</span>

        // empty array
<span class="fc" id="L1266">        ArrayAssert.assertEquals(new Locale[] { }, conf.getLocaleArray(&quot;empty&quot;));</span>
<span class="fc" id="L1267">    }</span>

    @Test
    public void testGetLocaleList() throws Exception
    {
        // missing list
<span class="fc" id="L1273">        ListAssert.assertEquals(null, conf.getLocaleList(&quot;locale.list&quot;, null));</span>

<span class="fc" id="L1275">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1276">        expected.add(Locale.FRENCH);</span>
<span class="fc" id="L1277">        expected.add(Locale.GERMAN);</span>

        // list of strings
<span class="fc" id="L1280">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1283">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list2&quot;));</span>

        // list of Locale objects
<span class="fc" id="L1286">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list3&quot;));</span>

        // array of Locale objects
<span class="fc" id="L1289">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list4&quot;));</span>

        // list of Locale objects
<span class="fc" id="L1292">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1295">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.list.interpolated&quot;));</span>

        // single Locale values
<span class="fc" id="L1298">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1299">        expected.add(Locale.FRENCH);</span>
<span class="fc" id="L1300">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.string&quot;));</span>
<span class="fc" id="L1301">        ListAssert.assertEquals(expected, conf.getLocaleList(&quot;locale.object&quot;));</span>

        // empty list
<span class="fc" id="L1304">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getLocaleList(&quot;empty&quot;));</span>
<span class="fc" id="L1305">    }</span>

    @Test
    public void testGetColor()
    {
        // RRGGBB
<span class="fc" id="L1311">        conf.setProperty(&quot;color&quot;, &quot;FF0000&quot;);</span>
<span class="fc" id="L1312">        assertEquals(&quot;color&quot;, Color.red, conf.getColor(&quot;color&quot;));</span>

        // #RRGGBB
<span class="fc" id="L1315">        conf.setProperty(&quot;color&quot;, &quot;#00FF00&quot;);</span>
<span class="fc" id="L1316">        assertEquals(&quot;color&quot;, Color.green, conf.getColor(&quot;color&quot;));</span>

        // #RRGGBBAA
<span class="fc" id="L1319">        conf.setProperty(&quot;color&quot;, &quot;#01030507&quot;);</span>
<span class="fc" id="L1320">        Color color = conf.getColor(&quot;color&quot;);</span>
<span class="fc" id="L1321">        assertNotNull(&quot;null color&quot;, color);</span>
<span class="fc" id="L1322">        assertEquals(&quot;red&quot;,   1, color.getRed());</span>
<span class="fc" id="L1323">        assertEquals(&quot;green&quot;, 3, color.getGreen());</span>
<span class="fc" id="L1324">        assertEquals(&quot;blue&quot;,  5, color.getBlue());</span>
<span class="fc" id="L1325">        assertEquals(&quot;alpha&quot;, 7, color.getAlpha());</span>

        // interpolated value
<span class="fc" id="L1328">        assertEquals(Color.red, conf.getColor(&quot;color.string.interpolated&quot;));</span>

        // default value
<span class="fc" id="L1331">        assertEquals(Color.cyan, conf.getColor(&quot;unknownkey&quot;, Color.cyan));</span>
<span class="fc" id="L1332">    }</span>

    @Test
    public void testGetColorArray() throws Exception
    {
        // missing list
<span class="fc" id="L1338">        Color[] defaultValue = new Color[] { Color.red, Color.blue };</span>
<span class="fc" id="L1339">        ArrayAssert.assertEquals(defaultValue, conf.getColorArray(&quot;color.list&quot;, defaultValue));</span>

<span class="fc" id="L1341">        Color[] expected = new Color[] { Color.red, Color.blue };</span>

        // list of strings
<span class="fc" id="L1344">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1347">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list2&quot;));</span>

        // list of Color objects
<span class="fc" id="L1350">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list3&quot;));</span>

        // array of Color objects
<span class="fc" id="L1353">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list4&quot;));</span>

        // list of Color objects
<span class="fc" id="L1356">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1359">        ArrayAssert.assertEquals(expected, conf.getColorArray(&quot;color.list.interpolated&quot;));</span>

        // single Color values
<span class="fc" id="L1362">        ArrayAssert.assertEquals(new Color[] { Color.red }, conf.getColorArray(&quot;color.string&quot;));</span>
<span class="fc" id="L1363">        ArrayAssert.assertEquals(new Color[] { Color.red }, conf.getColorArray(&quot;color.object&quot;));</span>

        // empty array
<span class="fc" id="L1366">        ArrayAssert.assertEquals(new Color[] { }, conf.getColorArray(&quot;empty&quot;));</span>
<span class="fc" id="L1367">    }</span>

    @Test
    public void testGetColorList() throws Exception
    {
        // missing list
<span class="fc" id="L1373">        ListAssert.assertEquals(null, conf.getColorList(&quot;color.list&quot;, null));</span>

<span class="fc" id="L1375">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1376">        expected.add(Color.red);</span>
<span class="fc" id="L1377">        expected.add(Color.blue);</span>

        // list of strings
<span class="fc" id="L1380">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1383">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list2&quot;));</span>

        // list of Color objects
<span class="fc" id="L1386">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list3&quot;));</span>

        // array of Color objects
<span class="fc" id="L1389">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list4&quot;));</span>

        // list of Color objects
<span class="fc" id="L1392">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1395">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.list.interpolated&quot;));</span>

        // single Color values
<span class="fc" id="L1398">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1399">        expected.add(Color.red);</span>
<span class="fc" id="L1400">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.string&quot;));</span>
<span class="fc" id="L1401">        ListAssert.assertEquals(expected, conf.getColorList(&quot;color.object&quot;));</span>

        // empty list
<span class="fc" id="L1404">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getColorList(&quot;empty&quot;));</span>
<span class="fc" id="L1405">    }</span>

    /**
     * Returns the expected test date.
     *
     * @return the expected test date
     * @throws ParseException if the date cannot be parsed
     */
    private static Date expectedDate() throws ParseException
    {
<span class="fc" id="L1415">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1416">        return format.parse(&quot;2004-01-01&quot;);</span>
    }

    @Test
    public void testGetDate() throws Exception
    {
<span class="fc" id="L1422">        Date expected = expectedDate();</span>

        // missing Date
<span class="fc" id="L1425">        Date defaultValue = new Date();</span>
<span class="fc" id="L1426">        assertEquals(defaultValue, conf.getDate(&quot;date&quot;, defaultValue));</span>
<span class="fc" id="L1427">        assertNull(&quot;non null object for a missing key&quot;, conf.getDate(&quot;unknownkey&quot;, DATE_PATTERN));</span>

<span class="fc" id="L1429">        conf.setThrowExceptionOnMissing(true);</span>

        try
        {
<span class="nc" id="L1433">            conf.getDate(&quot;unknownkey&quot;, DATE_PATTERN);</span>
<span class="nc" id="L1434">            fail(&quot;NoSuchElementException should be thrown for missing properties&quot;);</span>
        }
<span class="fc" id="L1436">        catch (NoSuchElementException e)</span>
        {
            // expected
<span class="nc" id="L1439">        }</span>


        // Date string
<span class="fc" id="L1443">        assertEquals(expected, conf.getDate(&quot;date.string&quot;));</span>
<span class="fc" id="L1444">        assertEquals(expected, conf.getDate(&quot;date.string&quot;, DATE_PATTERN));</span>

        // Date object
<span class="fc" id="L1447">        assertEquals(expected, conf.getDate(&quot;date.object&quot;));</span>

        // Calendar object
<span class="fc" id="L1450">        assertEquals(expected, conf.getDate(&quot;calendar.object&quot;));</span>

        // interpolated value
<span class="fc" id="L1453">        assertEquals(expected, conf.getDate(&quot;date.string.interpolated&quot;));</span>
<span class="fc" id="L1454">    }</span>

    /**
     * Tests a conversion to a Date if no property is set with the date format,
     * and the format is directly passed in.
     */
    @Test
    public void testGetDateNoFormatPropertyDirectlySpecified() throws Exception
    {
<span class="fc" id="L1463">        conf.clearProperty(DataConfiguration.DATE_FORMAT_KEY);</span>
<span class="fc" id="L1464">        assertEquals(&quot;Wrong result&quot;, expectedDate(), conf.getDate(&quot;date.string&quot;, DATE_PATTERN));</span>
<span class="fc" id="L1465">    }</span>

    /**
     * Tests a conversion to a Date if no property is set with the date format,
     * and the format is specified in the conversion handler.
     */
    @Test
    public void testGetDateNoFormatPropertyConversionHandler() throws Exception
    {
<span class="fc" id="L1474">        conf.clearProperty(DataConfiguration.DATE_FORMAT_KEY);</span>
<span class="fc" id="L1475">        DefaultConversionHandler handler = new DefaultConversionHandler();</span>
<span class="fc" id="L1476">        handler.setDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1477">        conf.setConversionHandler(handler);</span>
<span class="fc" id="L1478">        assertEquals(&quot;Wrong result&quot;, expectedDate(), conf.getDate(&quot;date.string&quot;));</span>
<span class="fc" id="L1479">    }</span>

    @Test
    public void testGetDateArray() throws Exception
    {
<span class="fc" id="L1484">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1485">        Date date1 = format.parse(&quot;2004-01-01&quot;);</span>
<span class="fc" id="L1486">        Date date2 = format.parse(&quot;2004-12-31&quot;);</span>

        // missing list
<span class="fc" id="L1489">        Date[] defaultValue = new Date[] { date2, date1 };</span>
<span class="fc" id="L1490">        ArrayAssert.assertEquals(defaultValue, conf.getDateArray(&quot;date.list&quot;, defaultValue));</span>

<span class="fc" id="L1492">        Date[] expected = new Date[] { date1, date2 };</span>

        // list of strings
<span class="fc" id="L1495">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1498">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list2&quot;));</span>

        // list of Date objects
<span class="fc" id="L1501">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list3&quot;));</span>

        // array of Date objects
<span class="fc" id="L1504">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list4&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1507">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list5&quot;));</span>

        // list of Date objects
<span class="fc" id="L1510">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1513">        ArrayAssert.assertEquals(expected, conf.getDateArray(&quot;date.list.interpolated&quot;));</span>

        // single Date values
<span class="fc" id="L1516">        ArrayAssert.assertEquals(new Date[] { date1 }, conf.getDateArray(&quot;date.string&quot;));</span>
<span class="fc" id="L1517">        ArrayAssert.assertEquals(new Date[] { date1 }, conf.getDateArray(&quot;date.object&quot;));</span>

        // empty array
<span class="fc" id="L1520">        ArrayAssert.assertEquals(new Date[] { }, conf.getDateArray(&quot;empty&quot;));</span>
<span class="fc" id="L1521">    }</span>

    @Test
    public void testGetDateArrayWithFormat() throws Exception
    {
<span class="fc" id="L1526">        DateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);</span>
<span class="fc" id="L1527">        Date date1 = format.parse(&quot;01/01/2004&quot;);</span>
<span class="fc" id="L1528">        Date date2 = format.parse(&quot;12/31/2004&quot;);</span>
<span class="fc" id="L1529">        Date[] expected = new Date[] { date1, date2 };</span>

<span class="fc" id="L1531">        conf.addProperty(&quot;date.format&quot;, &quot;01/01/2004&quot;);</span>
<span class="fc" id="L1532">        conf.addProperty(&quot;date.format&quot;, &quot;12/31/2004&quot;);</span>
<span class="fc" id="L1533">        ArrayAssert.assertEquals(&quot;Wrong dates with format&quot;, expected, conf.getDateArray(&quot;date.format&quot;, &quot;MM/dd/yyyy&quot;));</span>
<span class="fc" id="L1534">    }</span>

    @Test
    public void testGetDateList() throws Exception
    {
<span class="fc" id="L1539">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1540">        Date date1 = format.parse(&quot;2004-01-01&quot;);</span>
<span class="fc" id="L1541">        Date date2 = format.parse(&quot;2004-12-31&quot;);</span>

        // missing list
<span class="fc" id="L1544">        List&lt;Date&gt; nullList = null;</span>
<span class="fc" id="L1545">        ListAssert.assertEquals(null, conf.getDateList(&quot;date.list&quot;, nullList));</span>

<span class="fc" id="L1547">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1548">        expected.add(date1);</span>
<span class="fc" id="L1549">        expected.add(date2);</span>

        // list of strings
<span class="fc" id="L1552">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list1&quot;));</span>
<span class="fc" id="L1553">        ListAssert.assertEquals(expected, conf.getList(Date.class, &quot;date.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1556">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list2&quot;));</span>

        // list of Date objects
<span class="fc" id="L1559">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list3&quot;));</span>

        // array of Date objects
<span class="fc" id="L1562">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list4&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1565">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list5&quot;));</span>

        // list of Date objects
<span class="fc" id="L1568">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list6&quot;));</span>

        // array of strings
<span class="fc" id="L1571">        ListAssert.assertEquals(expected, conf.getList(Date.class, &quot;date.list7&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1574">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.list.interpolated&quot;));</span>

        // single Date values
<span class="fc" id="L1577">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1578">        expected.add(date1);</span>
<span class="fc" id="L1579">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.string&quot;));</span>
<span class="fc" id="L1580">        ListAssert.assertEquals(expected, conf.getDateList(&quot;date.object&quot;));</span>

        // empty list
<span class="fc" id="L1583">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getDateList(&quot;empty&quot;));</span>
<span class="fc" id="L1584">    }</span>

    @Test
    public void testGetCalendar() throws Exception
    {
<span class="fc" id="L1589">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>

        // missing Date
<span class="fc" id="L1592">        Calendar defaultValue = Calendar.getInstance();</span>
<span class="fc" id="L1593">        defaultValue.setTime(new Date());</span>
<span class="fc" id="L1594">        assertEquals(defaultValue, conf.getCalendar(&quot;calendar&quot;, defaultValue));</span>
<span class="fc" id="L1595">        assertNull(&quot;non null object for a missing key&quot;, conf.getCalendar(&quot;unknownkey&quot;, DATE_PATTERN));</span>

<span class="fc" id="L1597">        conf.setThrowExceptionOnMissing(true);</span>

        try
        {
<span class="nc" id="L1601">            conf.getCalendar(&quot;unknownkey&quot;, DATE_PATTERN);</span>
<span class="nc" id="L1602">            fail(&quot;NoSuchElementException should be thrown for missing properties&quot;);</span>
        }
<span class="fc" id="L1604">        catch (NoSuchElementException e)</span>
        {
            // expected
<span class="nc" id="L1607">        }</span>

<span class="fc" id="L1609">        Calendar expected = Calendar.getInstance();</span>
<span class="fc" id="L1610">        expected.setTime(format.parse(&quot;2004-01-01&quot;));</span>

        // Calendar string
<span class="fc" id="L1613">        assertEquals(expected, conf.getCalendar(&quot;calendar.string&quot;));</span>
<span class="fc" id="L1614">        assertEquals(expected, conf.getCalendar(&quot;calendar.string&quot;,  DATE_PATTERN));</span>

        // Calendar object
<span class="fc" id="L1617">        assertEquals(expected, conf.getCalendar(&quot;calendar.object&quot;));</span>

        // Date object
<span class="fc" id="L1620">        assertEquals(expected, conf.getCalendar(&quot;date.object&quot;));</span>

        // interpolated value
<span class="fc" id="L1623">        assertEquals(expected, conf.getCalendar(&quot;calendar.string.interpolated&quot;));</span>
<span class="fc" id="L1624">    }</span>

    @Test
    public void testGetCalendarArray() throws Exception
    {
<span class="fc" id="L1629">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1630">        Date date1 = format.parse(&quot;2004-01-01&quot;);</span>
<span class="fc" id="L1631">        Date date2 = format.parse(&quot;2004-12-31&quot;);</span>
<span class="fc" id="L1632">        Calendar calendar1 = Calendar.getInstance();</span>
<span class="fc" id="L1633">        calendar1.setTime(date1);</span>
<span class="fc" id="L1634">        Calendar calendar2 = Calendar.getInstance();</span>
<span class="fc" id="L1635">        calendar2.setTime(date2);</span>

        // missing list
<span class="fc" id="L1638">        Calendar[] defaultValue = new Calendar[] { calendar2, calendar1 };</span>
<span class="fc" id="L1639">        ArrayAssert.assertEquals(defaultValue, conf.getCalendarArray(&quot;calendar.list&quot;, defaultValue));</span>

<span class="fc" id="L1641">        Calendar[] expected = new Calendar[] { calendar1, calendar2 };</span>

        // list of strings
<span class="fc" id="L1644">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1647">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list2&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1650">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list3&quot;));</span>

        // array of Calendar objects
<span class="fc" id="L1653">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list4&quot;));</span>

        // list of Date objects
<span class="fc" id="L1656">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list5&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1659">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list6&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1662">        ArrayAssert.assertEquals(expected, conf.getCalendarArray(&quot;calendar.list.interpolated&quot;));</span>

        // single Calendar values
<span class="fc" id="L1665">        ArrayAssert.assertEquals(new Calendar[] { calendar1 }, conf.getCalendarArray(&quot;calendar.string&quot;));</span>
<span class="fc" id="L1666">        ArrayAssert.assertEquals(new Calendar[] { calendar1 }, conf.getCalendarArray(&quot;calendar.object&quot;));</span>

        // empty array
<span class="fc" id="L1669">        ArrayAssert.assertEquals(new Calendar[] { }, conf.getCalendarArray(&quot;empty&quot;));</span>
<span class="fc" id="L1670">    }</span>

    @Test
    public void testGetCalendarArrayWithFormat() throws Exception
    {
<span class="fc" id="L1675">        DateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);</span>
<span class="fc" id="L1676">        Date date1 = format.parse(&quot;01/01/2004&quot;);</span>
<span class="fc" id="L1677">        Date date2 = format.parse(&quot;12/31/2004&quot;);</span>

<span class="fc" id="L1679">        Calendar calendar1 = Calendar.getInstance();</span>
<span class="fc" id="L1680">        calendar1.setTime(date1);</span>
<span class="fc" id="L1681">        Calendar calendar2 = Calendar.getInstance();</span>
<span class="fc" id="L1682">        calendar2.setTime(date2);</span>
<span class="fc" id="L1683">        Calendar[] expected = new Calendar[] { calendar1, calendar2 };</span>

<span class="fc" id="L1685">        conf.addProperty(&quot;calendar.format&quot;, &quot;01/01/2004&quot;);</span>
<span class="fc" id="L1686">        conf.addProperty(&quot;calendar.format&quot;, &quot;12/31/2004&quot;);</span>
<span class="fc" id="L1687">        ArrayAssert.assertEquals(&quot;Wrong calendars with format&quot;, expected, conf.getCalendarArray(&quot;calendar.format&quot;, &quot;MM/dd/yyyy&quot;));</span>
<span class="fc" id="L1688">    }</span>

    @Test
    public void testGetCalendarList() throws Exception
    {
<span class="fc" id="L1693">        DateFormat format = new SimpleDateFormat(DATE_PATTERN);</span>
<span class="fc" id="L1694">        Date date1 = format.parse(&quot;2004-01-01&quot;);</span>
<span class="fc" id="L1695">        Date date2 = format.parse(&quot;2004-12-31&quot;);</span>
<span class="fc" id="L1696">        Calendar calendar1 = Calendar.getInstance();</span>
<span class="fc" id="L1697">        calendar1.setTime(date1);</span>
<span class="fc" id="L1698">        Calendar calendar2 = Calendar.getInstance();</span>
<span class="fc" id="L1699">        calendar2.setTime(date2);</span>

        // missing list
<span class="fc" id="L1702">        List&lt;Calendar&gt; nullList = null;</span>
<span class="fc" id="L1703">        ListAssert.assertEquals(null, conf.getCalendarList(&quot;calendar.list&quot;, nullList));</span>

<span class="fc" id="L1705">        List&lt;Object&gt; expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1706">        expected.add(calendar1);</span>
<span class="fc" id="L1707">        expected.add(calendar2);</span>

        // list of strings
<span class="fc" id="L1710">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list1&quot;));</span>
<span class="fc" id="L1711">        ListAssert.assertEquals(expected, conf.getList(Calendar.class, &quot;calendar.list1&quot;));</span>

        // list of strings, comma separated
<span class="fc" id="L1714">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list2&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1717">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list3&quot;));</span>

        // array of Calendar objects
<span class="fc" id="L1720">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list4&quot;));</span>

        // list of Date objects
<span class="fc" id="L1723">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list5&quot;));</span>

        // list of Calendar objects
<span class="fc" id="L1726">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list6&quot;));</span>

        // array of strings
<span class="fc" id="L1729">        ListAssert.assertEquals(expected, conf.getList(Calendar.class, &quot;calendar.list7&quot;));</span>

        // list of interpolated values
<span class="fc" id="L1732">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;calendar.list.interpolated&quot;));</span>

        // single Calendar values
<span class="fc" id="L1735">        expected = new ArrayList&lt;Object&gt;();</span>
<span class="fc" id="L1736">        expected.add(calendar1);</span>
<span class="fc" id="L1737">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;date.string&quot;));</span>
<span class="fc" id="L1738">        ListAssert.assertEquals(expected, conf.getCalendarList(&quot;date.object&quot;));</span>

        // empty list
<span class="fc" id="L1741">        ListAssert.assertEquals(new ArrayList&lt;Object&gt;(), conf.getCalendarList(&quot;empty&quot;));</span>
<span class="fc" id="L1742">    }</span>

    @Test
    public void testGetInetAddress() throws Exception
    {
<span class="fc" id="L1747">        InetAddress expected = InetAddress.getByName(&quot;127.0.0.1&quot;);</span>

        // address as string
<span class="fc" id="L1750">        assertEquals(expected, conf.get(InetAddress.class, &quot;ip.string&quot;));</span>

        // address object
<span class="fc" id="L1753">        assertEquals(expected, conf.get(InetAddress.class, &quot;ip.object&quot;));</span>

        // interpolated value
<span class="fc" id="L1756">        assertEquals(expected, conf.get(InetAddress.class, &quot;ip.string.interpolated&quot;));</span>
<span class="fc" id="L1757">    }</span>

    @Test(expected = ConversionException.class)
    public void testGetInetAddressInvalidType()
    {
<span class="fc" id="L1762">        conf.setProperty(&quot;ip.unknownhost&quot;, &quot;foo&quot;);</span>
<span class="nc" id="L1763">        conf.get(InetAddress.class, &quot;ip.unknownhost&quot;);</span>
<span class="nc" id="L1764">    }</span>

    @Test
    public void testGetInternetAddress() throws Exception
    {
<span class="fc" id="L1769">        Object expected = createInternetAddress(&quot;ebourg@apache.org&quot;);</span>

        // address as string
<span class="fc" id="L1772">        assertEquals(expected, conf.get(expected.getClass(), &quot;email.string&quot;));</span>

        // address object
<span class="fc" id="L1775">        assertEquals(expected, conf.get(expected.getClass(), &quot;email.object&quot;));</span>

        // interpolated value
<span class="fc" id="L1778">        assertEquals(expected, conf.get(expected.getClass(), &quot;email.string.interpolated&quot;));</span>

<span class="fc" id="L1780">        conf.setProperty(&quot;email.invalid&quot;, &quot;ebourg@apache@org&quot;);</span>
        try
        {
<span class="nc" id="L1783">            conf.get(expected.getClass(), &quot;email.invalid&quot;);</span>
<span class="nc" id="L1784">            fail(&quot;ConversionException should be thrown for invalid emails&quot;);</span>
        }
<span class="fc" id="L1786">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1789">        }</span>
<span class="fc" id="L1790">    }</span>

    @Test(expected = ConversionException.class)
    public void testGetInternetAddressInvalidType() throws Exception
    {
<span class="fc" id="L1795">        Object expected = createInternetAddress(&quot;ebourg@apache.org&quot;);</span>
<span class="fc" id="L1796">        conf.setProperty(&quot;email.invalid&quot;, &quot;ebourg@apache@org&quot;);</span>
<span class="nc" id="L1797">        conf.get(expected.getClass(), &quot;email.invalid&quot;);</span>
<span class="nc" id="L1798">    }</span>

    /**
     * Create an instance of InternetAddress. This trick is necessary to
     * compile and run the test with Java 1.3 and the javamail-1.4 which
     * is not compatible with Java 1.3
     */
    private Object createInternetAddress(String email) throws Exception
    {
<span class="fc" id="L1807">        Class&lt;?&gt; cls = Class.forName(&quot;javax.mail.internet.InternetAddress&quot;);</span>
<span class="fc" id="L1808">        return cls.getConstructor(new Class[]{String.class}).newInstance(new Object[]{email});</span>
    }

    @Test
    public void testConversionException() throws Exception
    {
<span class="fc" id="L1814">        conf.addProperty(&quot;key1&quot;, new Object());</span>
<span class="fc" id="L1815">        conf.addProperty(&quot;key2&quot;, &quot;xxxxxx&quot;);</span>

        try
        {
<span class="nc" id="L1819">            conf.getBooleanArray(&quot;key1&quot;);</span>
<span class="nc" id="L1820">            fail(&quot;getBooleanArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1822">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1825">        }</span>

        try
        {
<span class="nc" id="L1829">            conf.getBooleanArray(&quot;key2&quot;);</span>
<span class="nc" id="L1830">            fail(&quot;getBooleanArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1832">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1835">        }</span>

        try
        {
<span class="nc" id="L1839">            conf.getBooleanList(&quot;key1&quot;);</span>
<span class="nc" id="L1840">            fail(&quot;getBooleanList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1842">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1845">        }</span>

        try
        {
<span class="nc" id="L1849">            conf.getBooleanList(&quot;key2&quot;);</span>
<span class="nc" id="L1850">            fail(&quot;getBooleanList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1852">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1855">        }</span>

        try
        {
<span class="nc" id="L1859">            conf.getByteArray(&quot;key1&quot;);</span>
<span class="nc" id="L1860">            fail(&quot;getByteArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1862">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1865">        }</span>

        try
        {
<span class="nc" id="L1869">            conf.getByteArray(&quot;key2&quot;);</span>
<span class="nc" id="L1870">            fail(&quot;getByteArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1872">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1875">        }</span>

        try
        {
<span class="nc" id="L1879">            conf.getByteList(&quot;key1&quot;);</span>
<span class="nc" id="L1880">            fail(&quot;getByteList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1882">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1885">        }</span>

        try
        {
<span class="nc" id="L1889">            conf.getByteList(&quot;key2&quot;);</span>
<span class="nc" id="L1890">            fail(&quot;getByteList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1892">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1895">        }</span>

        try
        {
<span class="nc" id="L1899">            conf.getShortArray(&quot;key1&quot;);</span>
<span class="nc" id="L1900">            fail(&quot;getShortArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1902">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1905">        }</span>

        try
        {
<span class="nc" id="L1909">            conf.getShortArray(&quot;key2&quot;);</span>
<span class="nc" id="L1910">            fail(&quot;getShortArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1912">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1915">        }</span>

        try
        {
<span class="nc" id="L1919">            conf.getShortList(&quot;key1&quot;);</span>
<span class="nc" id="L1920">            fail(&quot;getShortList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1922">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1925">        }</span>

        try
        {
<span class="nc" id="L1929">            conf.getShortList(&quot;key2&quot;);</span>
<span class="nc" id="L1930">            fail(&quot;getShortList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1932">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1935">        }</span>

        try
        {
<span class="nc" id="L1939">            conf.getIntArray(&quot;key1&quot;);</span>
<span class="nc" id="L1940">            fail(&quot;getIntArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1942">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1945">        }</span>

        try
        {
<span class="nc" id="L1949">            conf.getIntArray(&quot;key2&quot;);</span>
<span class="nc" id="L1950">            fail(&quot;getIntArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1952">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1955">        }</span>

        try
        {
<span class="nc" id="L1959">            conf.getIntegerList(&quot;key1&quot;);</span>
<span class="nc" id="L1960">            fail(&quot;getIntegerList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1962">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1965">        }</span>

        try
        {
<span class="nc" id="L1969">            conf.getIntegerList(&quot;key2&quot;);</span>
<span class="nc" id="L1970">            fail(&quot;getIntegerList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1972">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1975">        }</span>

        try
        {
<span class="nc" id="L1979">            conf.getLongArray(&quot;key1&quot;);</span>
<span class="nc" id="L1980">            fail(&quot;getLongArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1982">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1985">        }</span>

        try
        {
<span class="nc" id="L1989">            conf.getLongArray(&quot;key2&quot;);</span>
<span class="nc" id="L1990">            fail(&quot;getLongArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L1992">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L1995">        }</span>

        try
        {
<span class="nc" id="L1999">            conf.getLongList(&quot;key1&quot;);</span>
<span class="nc" id="L2000">            fail(&quot;getLongList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2002">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2005">        }</span>

        try
        {
<span class="nc" id="L2009">            conf.getLongList(&quot;key2&quot;);</span>
<span class="nc" id="L2010">            fail(&quot;getLongList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2012">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2015">        }</span>

        try
        {
<span class="nc" id="L2019">            conf.getFloatArray(&quot;key1&quot;);</span>
<span class="nc" id="L2020">            fail(&quot;getFloatArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2022">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2025">        }</span>

        try
        {
<span class="nc" id="L2029">            conf.getFloatArray(&quot;key2&quot;);</span>
<span class="nc" id="L2030">            fail(&quot;getFloatArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2032">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2035">        }</span>

        try
        {
<span class="nc" id="L2039">            conf.getFloatList(&quot;key1&quot;);</span>
<span class="nc" id="L2040">            fail(&quot;getFloatList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2042">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2045">        }</span>

        try
        {
<span class="nc" id="L2049">            conf.getFloatList(&quot;key2&quot;);</span>
<span class="nc" id="L2050">            fail(&quot;getFloatList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2052">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2055">        }</span>

        try
        {
<span class="nc" id="L2059">            conf.getDoubleArray(&quot;key1&quot;);</span>
<span class="nc" id="L2060">            fail(&quot;getDoubleArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2062">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2065">        }</span>

        try
        {
<span class="nc" id="L2069">            conf.getDoubleArray(&quot;key2&quot;);</span>
<span class="nc" id="L2070">            fail(&quot;getDoubleArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2072">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2075">        }</span>

        try
        {
<span class="nc" id="L2079">            conf.getDoubleList(&quot;key1&quot;);</span>
<span class="nc" id="L2080">            fail(&quot;getDoubleList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2082">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2085">        }</span>

        try
        {
<span class="nc" id="L2089">            conf.getDoubleList(&quot;key2&quot;);</span>
<span class="nc" id="L2090">            fail(&quot;getDoubleList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2092">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2095">        }</span>

        try
        {
<span class="nc" id="L2099">            conf.getBigIntegerArray(&quot;key1&quot;);</span>
<span class="nc" id="L2100">            fail(&quot;getBigIntegerArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2102">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2105">        }</span>

        try
        {
<span class="nc" id="L2109">            conf.getBigIntegerArray(&quot;key2&quot;);</span>
<span class="nc" id="L2110">            fail(&quot;getBigIntegerArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2112">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2115">        }</span>

        try
        {
<span class="nc" id="L2119">            conf.getBigIntegerList(&quot;key1&quot;);</span>
<span class="nc" id="L2120">            fail(&quot;getBigIntegerList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2122">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2125">        }</span>

        try
        {
<span class="nc" id="L2129">            conf.getBigIntegerList(&quot;key2&quot;);</span>
<span class="nc" id="L2130">            fail(&quot;getBigIntegerList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2132">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2135">        }</span>

        try
        {
<span class="nc" id="L2139">            conf.getBigDecimalArray(&quot;key1&quot;);</span>
<span class="nc" id="L2140">            fail(&quot;getBigDecimalArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2142">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2145">        }</span>

        try
        {
<span class="nc" id="L2149">            conf.getBigDecimalArray(&quot;key2&quot;);</span>
<span class="nc" id="L2150">            fail(&quot;getBigDecimalArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2152">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2155">        }</span>

        try
        {
<span class="nc" id="L2159">            conf.getBigDecimalList(&quot;key1&quot;);</span>
<span class="nc" id="L2160">            fail(&quot;getBigDecimalList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2162">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2165">        }</span>

        try
        {
<span class="nc" id="L2169">            conf.getBigDecimalList(&quot;key2&quot;);</span>
<span class="nc" id="L2170">            fail(&quot;getBigDecimalList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2172">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2175">        }</span>

        try
        {
<span class="nc" id="L2179">            conf.getURLArray(&quot;key1&quot;);</span>
<span class="nc" id="L2180">            fail(&quot;getURLArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2182">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2185">        }</span>

        try
        {
<span class="nc" id="L2189">            conf.getURLArray(&quot;key2&quot;);</span>
<span class="nc" id="L2190">            fail(&quot;getURLArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2192">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2195">        }</span>

        try
        {
<span class="nc" id="L2199">            conf.getURLList(&quot;key1&quot;);</span>
<span class="nc" id="L2200">            fail(&quot;getURLList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2202">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2205">        }</span>

        try
        {
<span class="nc" id="L2209">            conf.getURLList(&quot;key2&quot;);</span>
<span class="nc" id="L2210">            fail(&quot;getURLList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2212">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2215">        }</span>

        try
        {
<span class="nc" id="L2219">            conf.getLocaleArray(&quot;key1&quot;);</span>
<span class="nc" id="L2220">            fail(&quot;getLocaleArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2222">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2225">        }</span>

        try
        {
<span class="nc" id="L2229">            conf.getLocaleArray(&quot;key2&quot;);</span>
<span class="nc" id="L2230">            fail(&quot;getLocaleArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2232">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2235">        }</span>

        try
        {
<span class="nc" id="L2239">            conf.getLocaleList(&quot;key1&quot;);</span>
<span class="nc" id="L2240">            fail(&quot;getLocaleList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2242">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2245">        }</span>

        try
        {
<span class="nc" id="L2249">            conf.getLocaleList(&quot;key2&quot;);</span>
<span class="nc" id="L2250">            fail(&quot;getLocaleList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2252">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2255">        }</span>

        try
        {
<span class="nc" id="L2259">            conf.getColorArray(&quot;key1&quot;);</span>
<span class="nc" id="L2260">            fail(&quot;getColorArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2262">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2265">        }</span>

        try
        {
<span class="nc" id="L2269">            conf.getColorArray(&quot;key2&quot;);</span>
<span class="nc" id="L2270">            fail(&quot;getColorArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2272">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2275">        }</span>

        try
        {
<span class="nc" id="L2279">            conf.getColorList(&quot;key1&quot;);</span>
<span class="nc" id="L2280">            fail(&quot;getColorList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2282">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2285">        }</span>

        try
        {
<span class="nc" id="L2289">            conf.getColorList(&quot;key2&quot;);</span>
<span class="nc" id="L2290">            fail(&quot;getColorList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2292">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2295">        }</span>

        try
        {
<span class="nc" id="L2299">            conf.getDateArray(&quot;key1&quot;);</span>
<span class="nc" id="L2300">            fail(&quot;getDateArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2302">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2305">        }</span>

        try
        {
<span class="nc" id="L2309">            conf.getDate(&quot;key1&quot;, DATE_PATTERN);</span>
<span class="nc" id="L2310">            fail(&quot;getDate didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2312">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2315">        }</span>

        try
        {
<span class="nc" id="L2319">            conf.getDate(&quot;key2&quot;, DATE_PATTERN);</span>
<span class="nc" id="L2320">            fail(&quot;getDate didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2322">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2325">        }</span>

        try
        {
<span class="nc" id="L2329">            conf.getDateArray(&quot;key2&quot;);</span>
<span class="nc" id="L2330">            fail(&quot;getDateArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2332">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2335">        }</span>

        try
        {
<span class="nc" id="L2339">            conf.getDateList(&quot;key1&quot;);</span>
<span class="nc" id="L2340">            fail(&quot;getDateList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2342">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2345">        }</span>

        try
        {
<span class="nc" id="L2349">            conf.getDateList(&quot;key2&quot;);</span>
<span class="nc" id="L2350">            fail(&quot;getDateList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2352">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2355">        }</span>

        try
        {
<span class="nc" id="L2359">            conf.getCalendar(&quot;key1&quot;, DATE_PATTERN);</span>
<span class="nc" id="L2360">            fail(&quot;getCalendar didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2362">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2365">        }</span>

        try
        {
<span class="nc" id="L2369">            conf.getCalendar(&quot;key2&quot;,DATE_PATTERN);</span>
<span class="nc" id="L2370">            fail(&quot;getCalendar didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2372">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2375">        }</span>

        try
        {
<span class="nc" id="L2379">            conf.getCalendarArray(&quot;key1&quot;);</span>
<span class="nc" id="L2380">            fail(&quot;getCalendarArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2382">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2385">        }</span>

        try
        {
<span class="nc" id="L2389">            conf.getCalendarArray(&quot;key2&quot;);</span>
<span class="nc" id="L2390">            fail(&quot;getCalendarArray didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2392">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2395">        }</span>

        try
        {
<span class="nc" id="L2399">            conf.getCalendarList(&quot;key1&quot;);</span>
<span class="nc" id="L2400">            fail(&quot;getCalendarList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2402">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2405">        }</span>

        try
        {
<span class="nc" id="L2409">            conf.getCalendarList(&quot;key2&quot;);</span>
<span class="nc" id="L2410">            fail(&quot;getCalendarList didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2412">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2415">        }</span>

        try
        {
<span class="nc" id="L2419">            conf.get(InetAddress.class, &quot;key1&quot;);</span>
<span class="nc" id="L2420">            fail(&quot;getInetAddress didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2422">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2425">        }</span>

        try
        {
<span class="nc" id="L2429">            conf.get(Class.forName(&quot;javax.mail.internet.InternetAddress&quot;), &quot;key1&quot;);</span>
<span class="nc" id="L2430">            fail(&quot;getInternetAddress didn't throw a ConversionException&quot;);</span>
        }
<span class="fc" id="L2432">        catch (ConversionException e)</span>
        {
            // expected
<span class="nc" id="L2435">        }</span>
<span class="fc" id="L2436">    }</span>

    /**
     * Tests whether a string property can be obtained through get() if no type
     * conversion is required.
     */
    @Test
    public void testGetPropertyWithoutConversion()
    {
<span class="fc" id="L2445">        String key = &quot;test.str&quot;;</span>
<span class="fc" id="L2446">        String value = &quot;someTestValue&quot;;</span>
<span class="fc" id="L2447">        conf.addProperty(key, value);</span>
<span class="fc" id="L2448">        assertEquals(&quot;Wrong result&quot;, value, conf.get(String.class, key));</span>
<span class="fc" id="L2449">    }</span>

    /**
     * Tests whether properties can be cleared.
     */
    @Test
    public void testClearProperty()
    {
<span class="fc" id="L2457">        String key = &quot;test.property&quot;;</span>
<span class="fc" id="L2458">        conf.addProperty(key, &quot;someValue&quot;);</span>
<span class="fc" id="L2459">        conf.clearProperty(key);</span>
<span class="fc" id="L2460">        assertFalse(&quot;Property still found&quot;, conf.containsKey(key));</span>
<span class="fc" id="L2461">    }</span>

    /**
     * Tests the implementation of clearPropertyDirect().
     */
    @Test
    public void testClearPropertyDirect()
    {
<span class="fc" id="L2469">        String key = &quot;test.property&quot;;</span>
<span class="fc" id="L2470">        conf.addProperty(key, &quot;someValue&quot;);</span>
<span class="fc" id="L2471">        conf.clearPropertyDirect(key);</span>
<span class="fc" id="L2472">        assertFalse(&quot;Property still found&quot;, conf.containsKey(key));</span>
<span class="fc" id="L2473">    }</span>

    /**
     * Tests clearPropertyDirect() if the wrapped configuration does not extend
     * AbstractConfiguration.
     */
    @Test
    public void testClearPropertyDirectNoAbstractConf()
    {
<span class="fc" id="L2482">        Configuration wrapped = EasyMock.createMock(Configuration.class);</span>
<span class="fc" id="L2483">        String key = &quot;test.property&quot;;</span>
<span class="fc" id="L2484">        wrapped.clearProperty(key);</span>
<span class="fc" id="L2485">        EasyMock.replay(wrapped);</span>
<span class="fc" id="L2486">        conf = new DataConfiguration(wrapped);</span>
<span class="fc" id="L2487">        conf.clearPropertyDirect(key);</span>
<span class="fc" id="L2488">        EasyMock.verify(wrapped);</span>
<span class="fc" id="L2489">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>